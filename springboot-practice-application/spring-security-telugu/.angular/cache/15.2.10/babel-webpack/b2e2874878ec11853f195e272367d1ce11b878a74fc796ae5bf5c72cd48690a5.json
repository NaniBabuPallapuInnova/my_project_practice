{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet CreateEmployeeComponent = class CreateEmployeeComponent {\n  constructor(formBuilder, employeeService, router, activatedRoute) {\n    this.formBuilder = formBuilder;\n    this.employeeService = employeeService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.newEmployee = {};\n    this.fetchedId = 0;\n  }\n  ngOnInit() {\n    this.employeeFormGroup = this.formBuilder.group({\n      name_: ['', [Validators.required]],\n      email_: ['', [Validators.email, Validators.required]],\n      phone_: ['', [Validators.maxLength(10)]],\n      salary_: ['', [Validators.required]],\n      doj_: ['', [Validators.required]]\n    });\n    this.activatedRoute.params.subscribe(param => {\n      let id = Number(param['id']);\n      this.fetchedId = id;\n      console.log('print id : ' + id);\n    });\n    this.fetchAndInitializeValuesForUpdating(this.fetchedId);\n    this.getEmployeeDetails(this.fetchedId);\n  }\n  registerEmployee() {\n    if (this.newEmployee) {\n      this.newEmployee.name = this.employeeFormGroup.controls['name_'].value;\n      this.newEmployee.email = this.employeeFormGroup.controls['email_'].value;\n      this.newEmployee.phone = this.employeeFormGroup.controls['phone_'].value;\n      this.newEmployee.salary = this.employeeFormGroup.controls['salary_'].value;\n      this.newEmployee.dateOfJoining = this.employeeFormGroup.controls['doj_'].value;\n      this.employeeService.createEmployee(this.newEmployee).subscribe(data => {\n        console.log(\"Employee has been created\", data);\n      });\n    }\n    this.employeeService.redirectTo('/');\n  }\n  fetchAndInitializeValuesForUpdating(id) {\n    this.employeeService.getEmployeeById(id).subscribe(data => {\n      this.newEmployee = data;\n      console.log('Fetched Employee Details Based On Id' + id + \"   \" + JSON.stringify(this.newEmployee));\n      // this.employeeFormGroup.controls['name_'].setValue(data.name);\n      // this.employeeFormGroup.controls['email_'].setValue(data.email);\n      // this.employeeFormGroup.controls['phone_'].setValue(data.phone);\n      // this.employeeFormGroup.controls['salary_'].setValue(data.salary);\n      // this.employeeFormGroup.controls['doj_'].setValue(data.dateOfJoining);\n    });\n  }\n};\n\nCreateEmployeeComponent = __decorate([Component({\n  selector: 'app-create-employee',\n  templateUrl: './create-employee.component.html',\n  styleUrls: ['./create-employee.component.scss']\n})], CreateEmployeeComponent);\nexport { CreateEmployeeComponent };","map":{"version":3,"mappings":"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","names":["Component","Validators","CreateEmployeeComponent","constructor","formBuilder","employeeService","router","activatedRoute","ngOnInit","employeeFormGroup","group","name_","required","email_","email","phone_","maxLength","salary_","doj_","params","subscribe","param","id","Number","fetchedId","console","log","fetchAndInitializeValuesForUpdating","getEmployeeDetails","registerEmployee","newEmployee","name","controls","value","phone","salary","dateOfJoining","createEmployee","data","redirectTo","getEmployeeById","JSON","stringify","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Personal Projects\\self_learning\\springboot-practice-application\\spring-security-telugu\\src\\main\\webapp\\app\\components\\create-employee\\create-employee.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Employee } from '../../interfaces/employee';\nimport { EmployeeService } from '../../services/employee.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-create-employee',\n  templateUrl: './create-employee.component.html',\n  styleUrls: ['./create-employee.component.scss']\n})\nexport class CreateEmployeeComponent implements OnInit{\n\n  newEmployee: Employee = {} as Employee;\n  fetchedId : number = 0;\n\n  employeeFormGroup! : FormGroup;\n  location: any;\n\n  constructor(private formBuilder :FormBuilder, private employeeService : EmployeeService, private router : Router, private activatedRoute : ActivatedRoute){\n\n  }\n  ngOnInit(){\n\n\n    \n\n    this.employeeFormGroup = this.formBuilder.group({\n\n      name_ : ['', [ Validators.required]],\n      email_ : ['', [Validators.email,Validators.required]],\n      phone_ : ['', [Validators.maxLength(10)]],\n      salary_ : ['', [ Validators.required]],\n      doj_ : ['', [Validators.required]]\n    });\n\n    this.activatedRoute.params.subscribe(param => {\n      let id = Number(param['id']);\n      this.fetchedId = id;\n      console.log('print id : '+id)\n\n    })\n\n    this.fetchAndInitializeValuesForUpdating(this.fetchedId);\n\n    this.getEmployeeDetails(this.fetchedId);\n  }\n\n\n  registerEmployee(){\n    \n    if(this.newEmployee){\n      this.newEmployee.name = this.employeeFormGroup.controls['name_'].value;\n      this.newEmployee.email = this.employeeFormGroup.controls['email_'].value;\n      this.newEmployee.phone = this.employeeFormGroup.controls['phone_'].value;\n      this.newEmployee.salary = this.employeeFormGroup.controls['salary_'].value;\n      this.newEmployee.dateOfJoining = this.employeeFormGroup.controls['doj_'].value;\n  \n      this.employeeService.createEmployee(this.newEmployee).subscribe((data) =>{\n        console.log(\"Employee has been created\", data);\n      })\n    }\n\n\n    this.employeeService.redirectTo('/');\n  }\n\n\n  fetchAndInitializeValuesForUpdating(id : number){\n\n    this.employeeService.getEmployeeById(id).subscribe((data) => {\n\n      this.newEmployee = data;\n\n      console.log('Fetched Employee Details Based On Id'+id+ \"   \"+JSON.stringify(this.newEmployee));\n\n      // this.employeeFormGroup.controls['name_'].setValue(data.name);\n      // this.employeeFormGroup.controls['email_'].setValue(data.email);\n      // this.employeeFormGroup.controls['phone_'].setValue(data.phone);\n      // this.employeeFormGroup.controls['salary_'].setValue(data.salary);\n      // this.employeeFormGroup.controls['doj_'].setValue(data.dateOfJoining);\n    });\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}