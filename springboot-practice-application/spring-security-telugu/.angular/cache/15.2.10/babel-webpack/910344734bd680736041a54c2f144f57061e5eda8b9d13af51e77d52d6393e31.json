{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet CreateEmployeeComponent = class CreateEmployeeComponent {\n  constructor(formBuilder, employeeService, router, activatedRoute, location) {\n    this.formBuilder = formBuilder;\n    this.employeeService = employeeService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.location = location;\n    this.newEmployee = {};\n    this.fetchedId = 0;\n  }\n  ngOnInit() {\n    this.employeeFormGroup = this.formBuilder.group({\n      name_: ['', [Validators.required]],\n      email_: ['', [Validators.email, Validators.required]],\n      phone_: ['', [Validators.maxLength(10)]],\n      salary_: ['', [Validators.required]],\n      doj_: ['', [Validators.required]]\n    });\n    this.activatedRoute.params.subscribe(param => {\n      let id = Number(param['id']);\n      this.fetchedId = Number.isNaN(id) ? 0 : id;\n      console.log('print id : ' + this.fetchedId);\n    });\n    if (this.fetchedId !== null && this.fetchedId !== 0) {\n      this.fetchAndInitializeValuesForUpdating(this.fetchedId);\n    }\n  }\n  registerEmployee() {\n    if (this.newEmployee) {\n      this.newEmployee.name = this.employeeFormGroup.controls['name_'].value;\n      this.newEmployee.email = this.employeeFormGroup.controls['email_'].value;\n      this.newEmployee.phone = this.employeeFormGroup.controls['phone_'].value;\n      this.newEmployee.salary = this.employeeFormGroup.controls['salary_'].value;\n      this.newEmployee.dateOfJoining = this.employeeFormGroup.controls['doj_'].value;\n      this.employeeService.createEmployee(this.newEmployee).subscribe(data => {\n        console.log(\"Employee has been created\", data);\n      });\n    }\n    this.employeeService.redirectTo(this.location.back());\n  }\n  fetchAndInitializeValuesForUpdating(id) {\n    this.employeeService.getEmployeeById(id).subscribe(data => {\n      this.newEmployee = data;\n      console.log('Fetched Employee Details Based On Id' + id + \"   \" + JSON.stringify(this.newEmployee));\n      this.employeeFormGroup.controls['name_'].setValue(data.name);\n      this.employeeFormGroup.controls['email_'].setValue(data.email);\n      this.employeeFormGroup.controls['phone_'].setValue(data.phone);\n      this.employeeFormGroup.controls['salary_'].setValue(data.salary);\n      this.employeeFormGroup.controls['doj_'].setValue(data.dateOfJoining);\n    });\n  }\n};\nCreateEmployeeComponent = __decorate([Component({\n  selector: 'app-create-employee',\n  templateUrl: './create-employee.component.html',\n  styleUrls: ['./create-employee.component.scss']\n})], CreateEmployeeComponent);\nexport { CreateEmployeeComponent };","map":{"version":3,"mappings":"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","names":["Component","Validators","CreateEmployeeComponent","constructor","formBuilder","employeeService","router","activatedRoute","location","ngOnInit","employeeFormGroup","group","name_","required","email_","email","phone_","maxLength","salary_","doj_","params","subscribe","param","id","Number","fetchedId","isNaN","console","log","fetchAndInitializeValuesForUpdating","registerEmployee","newEmployee","name","controls","value","phone","salary","dateOfJoining","createEmployee","data","redirectTo","back","getEmployeeById","JSON","stringify","setValue","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Personal Projects\\self_learning\\springboot-practice-application\\spring-security-telugu\\src\\main\\webapp\\app\\components\\create-employee\\create-employee.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Employee } from '../../interfaces/employee';\nimport { EmployeeService } from '../../services/employee.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-create-employee',\n  templateUrl: './create-employee.component.html',\n  styleUrls: ['./create-employee.component.scss']\n})\nexport class CreateEmployeeComponent implements OnInit{\n\n  newEmployee: Employee = {} as Employee;\n  fetchedId : number = 0;\n\n  employeeFormGroup! : FormGroup;\n  location: any;\n\n  constructor(private formBuilder :FormBuilder, private employeeService : EmployeeService, private router : Router, private activatedRoute : ActivatedRoute, private location : Locat){\n\n  }\n  ngOnInit(){\n\n\n    \n\n    this.employeeFormGroup = this.formBuilder.group({\n\n      name_ : ['', [ Validators.required]],\n      email_ : ['', [Validators.email,Validators.required]],\n      phone_ : ['', [Validators.maxLength(10)]],\n      salary_ : ['', [ Validators.required]],\n      doj_ : ['', [Validators.required]]\n    });\n\n    this.activatedRoute.params.subscribe(param => {\n      let id = Number(param['id']);\n      this.fetchedId = Number.isNaN(id) ? 0 : id;\n      console.log('print id : '+this.fetchedId)\n\n    })\n\n    if(this.fetchedId !== null && this.fetchedId !== 0){\n      this.fetchAndInitializeValuesForUpdating(this.fetchedId);\n\n    }\n\n  }\n\n\n  registerEmployee(){\n    \n    if(this.newEmployee){\n      this.newEmployee.name = this.employeeFormGroup.controls['name_'].value;\n      this.newEmployee.email = this.employeeFormGroup.controls['email_'].value;\n      this.newEmployee.phone = this.employeeFormGroup.controls['phone_'].value;\n      this.newEmployee.salary = this.employeeFormGroup.controls['salary_'].value;\n      this.newEmployee.dateOfJoining = this.employeeFormGroup.controls['doj_'].value;\n  \n      this.employeeService.createEmployee(this.newEmployee).subscribe((data) =>{\n        console.log(\"Employee has been created\", data);\n      })\n    }\n\n\n    this.employeeService.redirectTo(this.location.back());\n  }\n\n\n  fetchAndInitializeValuesForUpdating(id : number){\n\n    this.employeeService.getEmployeeById(id).subscribe((data) => {\n\n      this.newEmployee = data;\n\n      console.log('Fetched Employee Details Based On Id'+id+ \"   \"+JSON.stringify(this.newEmployee));\n\n      this.employeeFormGroup.controls['name_'].setValue(data.name);\n      this.employeeFormGroup.controls['email_'].setValue(data.email);\n      this.employeeFormGroup.controls['phone_'].setValue(data.phone);\n      this.employeeFormGroup.controls['salary_'].setValue(data.salary);\n      this.employeeFormGroup.controls['doj_'].setValue(data.dateOfJoining);\n    });\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}